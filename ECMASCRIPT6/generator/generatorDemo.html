<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .wrap {
        width: 80%;
        height: auto;
        margin: auto;
        text-align: center;
    }

    #show {
        margin-bottom: 30px;
    }
</style>

<body>
    <div class="wrap">
        <h1>generatorDemo</h1>
        <div id="show">

        </div>
        <div id="btn">
            <button id="btn_Cls">下一个</button>
        </div>
    </div>

    <script>
        const data = [{
            title: "邓先生",
            content: "寻找真爱",
            want: "男"
        }, {
            title: "王先生",
            content: "寻找女朋他",
            want: "女"
        },
        {
            title: "陈先生",
            content: "寻找女朋他",
            want: "女"
        },
        {
            title: "亲先生",
            content: "寻找女朋他",
            want: "女"
        }]
        //迭代器 
        // function profileItem(profiles) {
        //     let nextIndex = 0;
        //     return {
        //         next: function () {
        //             return nextIndex < profiles.length ?
        //                 { value: profiles[nextIndex++], done: false } :
        //                 { value: undefined, done: true }
        //         }
        //     }
        // }

        //generator生成器
        function* profileItem(){
            for(var i = 0;i<data.length;i++){
                yield data[i];
            }
        }


        const profiles = profileItem(data); //获取返回的结果对象
        console.log(profiles);
        nextProfile(); //手动调用
        document.getElementById("btn_Cls").addEventListener("click", nextProfile) //按钮点击事件
        //点击事件
        function nextProfile() {
            const curren = profiles.next().value; //获得对象中的value属性
            console.log(curren);
            if (curren !== undefined) {
                document.getElementById("show").innerHTML = `
            <ul>
            <li>姓名：${curren.title}</li>
            <li>内容：${curren.content}</li>
            <li>想要：${curren.want}</li>
            </ul>
            `
            } else {
                window.location.reload();
            }
        }


    </script>
</body>

</html>